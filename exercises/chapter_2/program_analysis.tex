\subsection{Program Analysis}

\subsubsection*{\textbf{2-1.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function mystery(n)
                        r := 0
                        for i:=1 to n-1 do} 
                          for j:=1 + 1 to n do} 
                            for k:=1 to j do} 
                              r := r + 1} 
                        return(r)
\end{verbatim}

\begin{soleqo}
\sum_{i=1}^{n-1}\sum_{j=i+1}^{n}\sum_{k=1}^{j} 1 &= \sum_{i=1}^{n-1}\sum_{j=i+1}^{n} \frac{j(j+1)}{2} \\
&= \sum_{i=1}^{n-1}\bigg(\sum_{j=1}^{n} 1 - \sum_{j=1}^{i} 1\bigg) \\
&= \sum_{i=1}^{n-1}\bigg(\frac{n(n+1)}{2} - \frac{i(i+1)}{2}\bigg) \\
&= \frac{1}{2}\bigg(\sum_{i=1}^{n-1}n(n+1) - \sum_{i=1}^{n-1}i(i+1)\bigg) \\
&= \frac{1}{2}\sum_{i=1}^{n-1}\Big(n^{2}+n - i^{2}-i\Big)\\
&= \frac{1}{2}\bigg((n-1)(n^{2}) + (n-1)n -\bigg(\frac{n(n+1)(2n+1)}{6} - n^{2}\bigg) -\bigg(\frac{n(n+1)}{2} - n\bigg)\bigg)\\
f(n) &= \frac{n(n(n+1))}{2} - \frac{n(n+1)(2n+1)}{12} - \frac{n(n+1)}{4}\\
&\therefore f(n) = O(n^{3}) \;\;\blacksquare
\end{soleqo}


\subsubsection*{\textbf{2-2.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function pesky(n)
                        r := 0
                        for i:=1 to n do} 
                          for j:=1 to i do} 
                            for k:=j to i+j do} 
                              r := r + 1} 
                        return(r)
\end{verbatim}

\begin{soleqo}
\sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=j}^{i+j} 1 =& \sum_{i=1}^{n}\sum_{j=1}^{i}\Bigg(\sum_{k=1}^{i+j} 1 - \sum_{k=1}^{j-1} 1\Bigg)\\
&= \sum_{i=1}^{n}\sum_{j=1}^{i} \Bigg(i+j-j+1 \Bigg) \\
&= \sum_{i=1}^{n}\sum_{j=1}^{i} \Bigg(i+1 \Bigg) \\
&= \sum_{i=1}^{n}\Big(i^{2} + i \Big)\\
&= \frac{n(n+1)(2n+1)}{6} + \frac{n(n+1)}{2}\\
&= \frac{1}{6}\Big(n(n+1)(2n+1) + 3n(n+1)\Big)\\
&= \frac{1}{6}\Big((n(n+1))(2n+1+3)\Big)\\
&= \frac{1}{6}\bigg(\Big(n(n+1)\Big)(2n+4)\bigg)\\
&= \frac{1}{6}\bigg(\Big(2n(n+1)\Big)(n+2)\bigg)\\
&= \frac{n(n+1)(n+2)}{3}\\
&\therefore f(n) = O(n^{3}/3) \;\;\blacksquare
\end{soleqo}

\subsubsection*{\textbf{2-3.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function prestiferous(n)
                        r := 0
                        for i:=1 to n do 
                          for j:=1 to i do 
                            for k:=j to i+j d0
                              for l:= 1 to i+j-k do
                                r := r + 1 
                        return(r)
\end{verbatim}

\begin{soleqo}
  \sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=j}^{i+j}\sum_{l=1}^{i+j-k} 1&=
  \sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=j}^{i+j} (i+j-k) \\
  \text{Since } \sum_{k=start}^{end}(end-k) &= \sum_{k=1}^{end-start}(k)\\
  \sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=j}^{i+j} (i+j-k) &=\sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=1}^{i}(k)\\
  &= \sum_{i=1}^{n}\sum_{j=1}^{i}\Big(\frac{i(i+1)}{2}\Big) \\
  &= \frac{1}{2}\sum_{i=1}^{n} \Big(i^{2}(i+1)\Big)\\
  &= \frac{1}{2}\sum_{i=1}^{n} \Big(i^{3}+i^{2}\Big)\\
  &= \frac{1}{2}\Big(\frac{n^{2}(n+1)^{2}}{4}+\frac{n(n+1)(2n+1)}{6}\Big)\\
  &= \Big(\frac{n^{2}(n+1)^{2}}{8}+\frac{n(n+1)(2n+1)}{12}\Big)\\
  &\therefore f(n) = O(n^{4}) \;\;\blacksquare
  % &\therefore f(n) = O(n^{4}/4) \;\;\blacksquare
\end{soleqo}


\subsubsection*{\textbf{2-4.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function conundrum(n)
                        r := 0
                        for i:=1 to n do 
                          for j:=i+1 to n do 
                            for k:=i+j-1 to n do
                              r := r + 1 
                        return(r)
\end{verbatim}

\begin{soleqo}
\sum_{i=1}^{n}\sum_{j=i+1}^{n}\sum_{k=i+j-1}^{n}1
&= \sum_{i=1}^{n}\sum_{j=i+1}^{n}\Big(\sum_{k=1}^{n}(1)-\sum_{k=1}^{i+j-2}(1)\Big)\\
&= \sum_{i=1}^{n}\sum_{j=i+1}^{n}\Big(n-i-j+2\Big)\\
&= \sum_{i=1}^{n}\Big(\sum_{j=i+1}^{n}(n-i+2)-\sum_{j=i+1}^{n}(j)\Big)\\
&= \sum_{i=1}^{n}\Bigg(n(n-i+2)-i(n-i+2)-\frac{n(n+1)}{2}-\frac{i(i+1)}{2}\Bigg)\\
&= \sum_{i=1}^{n}\Bigg(n^{2}-in+2n-in+i^{2}-2i-\frac{n^{2}+n +i^{2}+i}{2}\Bigg)\\
&= \frac{1}{2}\sum_{i=1}^{n}\Bigg(2n^{2}-2in+4n-2in+2i^{2}42i-n^{2}-n-i^{2}-i\Bigg)\\
&= \frac{1}{2}\sum_{i=1}^{n}\Bigg(n^{2}+3n-4in+i^{2}-5i\Bigg)\\
&= \frac{1}{2}\Bigg(n^{3} + 3n^{2} -4n\sum_{i=1}^{n}(i) + \sum_{i=1}^{n}(i^{2}) -5\sum_{i=1}^{n}  \Bigg) \\
&= \frac{1}{2}\Bigg(n^{3} + 3n^{2} -\frac{9n^{2}(n+1)}{2} + \frac{n(n+1)(2n+1)}{6}  \Bigg) \\
&\therefore f(n) = O(n^{3}) \;\;\blacksquare
\end{soleqo}

\subsubsection*{\textbf{2-5.} \emph{Suppose the following algorithm is used to evaluate the polynomial
$$p(x) = a_{n}x^{n}+a_{n-1}x^{n-1}+...+a_{1}x+a_{0}$$
\begin{align*}
&\text{p:= }a_{0}; \\
&\text{xpower:= 1;} \\
&\text{for i:=1 to n do} \\
&\text{\quad xpower:= x*xpower} \\
&\text{\quad p:= } p+a_{i}*xpower \\
&\text{end} \\
\end{align*}
\begin{enumerate}[label=(\alph*)]\itemsep1pt\parskip0pt\parsep0pt
	\item{
	\emph{How many multiplications are done in the worst-case? How many additions?}
	}
	\item{
	\emph{How many muliplications are done on the average?}
	}
	\item{
	\emph{Can You Improve this algorithm?}
	}
\end{enumerate}
}}
% \begin{verbatim}
%                     p:= a_{0};
%                         xpower:= 1;
%                         for i:=1 to n do 
%                           xpower:= x*xpower;
%                           p:= p+a_{i}*xpower 
%                             for k:=i+j-1 to n do
%                               r := r + 1 
%                         return(r)
% \end{verbatim}