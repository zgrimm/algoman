\subsection{Program Analysis}

\subsubsection*{\textbf{2-1.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function mystery(n)
                        r := 0
                        for i:=1 to n-1 do} 
                          for j:=1 + 1 to n do} 
                            for k:=1 to j do} 
                              r := r + 1} 
                        return(r)
\end{verbatim}

\begin{soleqo}
\sum_{i=1}^{n-1}\sum_{j=i+1}^{n}\sum_{k=1}^{j} 1 &= \sum_{i=1}^{n-1}\sum_{j=i+1}^{n} \frac{j(j+1)}{2} \\
&= \sum_{i=1}^{n-1}\bigg(\sum_{j=1}^{n} 1 - \sum_{j=1}^{i} 1\bigg) \\
&= \sum_{i=1}^{n-1}\bigg(\frac{n(n+1)}{2} - \frac{i(i+1)}{2}\bigg) \\
&= \frac{1}{2}\bigg(\sum_{i=1}^{n-1}n(n+1) - \sum_{i=1}^{n-1}i(i+1)\bigg) \\
&= \frac{1}{2}\sum_{i=1}^{n-1}\Big(n^{2}+n - i^{2}-i\Big)\\
&= \frac{1}{2}\bigg((n-1)(n^{2}) + (n-1)n -\bigg(\frac{n(n+1)(2n+1)}{6} - n^{2}\bigg) -\bigg(\frac{n(n+1)}{2} - n\bigg)\bigg)\\
f(n) &= \frac{n(n(n+1))}{2} - \frac{n(n+1)(2n+1)}{12} - \frac{n(n+1)}{4}\\
&\therefore f(n) = O(n^{3}) \;\;\blacksquare
\end{soleqo}


\subsubsection*{\textbf{2-2.} \emph{What value is returned by the follwing function? Express your answer as a function of n. Give the worst-case running time using the Big Oh notation.
}}
\begin{verbatim}
                    function pesky(n)
                        r := 0
                        for i:=1 to n do} 
                          for j:=1 to i do} 
                            for k:=j to i+j do} 
                              r := r + 1} 
                        return(r)
\end{verbatim}

\begin{soleqo}
\sum_{i=1}^{n}\sum_{j=1}^{i}\sum_{k=j}^{i+j} 1 =& \sum_{i=1}^{n}\sum_{j=1}^{i}\Bigg(\sum_{k=1}^{i+j} 1 - \sum_{k=1}^{j-1} 1\Bigg)\\
&= \sum_{i=1}^{n}\sum_{j=1}^{i}\Bigg(\frac{(i+j)(i+j+1)}{2} - \frac{j(j-1)}{2}\Bigg) \\
&= \frac{1}{2}\sum_{i=1}^{n}\sum_{j=1}^{i} \bigg((i+1)(i+2j)\bigg)\\
&= \frac{1}{2}\sum_{i=1}^{n}\sum_{j=1}^{i} \bigg(i^{2} + i + 2ij + 2j\bigg)\\
&= \frac{1}{2}\sum_{i=1}^{n}\bigg(i(i+1)(2i+1)\bigg)\\
&= \frac{1}{2}\sum_{i=1}^{n}\bigg(2i^{3}+3i^{2}+i)\bigg)\\
&= \frac{1}{2}\bigg(2\sum_{i=1}^{n}i^{3} + 3\sum_{i=1}^{n}i^{2}+\sum_{i=1}^{n}i\bigg) \\
&= \frac{1}{2}\bigg(\frac{n^{2}(n+1)^{2}}{2} + 3\frac{n(n+1)(2n+1)}{2} + \frac{n(n+1)}{2} \bigg) \\
&= \frac{1}{4}\bigg( n^{2}(n+1)^{2} + n(n+1)(2n+1) + n(n+1) \bigg) \\
&= \frac{n^{4}+ 4n^{3} + 6n^{2} + n}{4}\\
&\therefore pesky(n) = O(n^{4}/4) \;\;\blacksquare
\end{soleqo}